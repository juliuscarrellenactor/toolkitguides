## Persistence of Enactor Entities

Enactor interfaces to Databases using Java Database Connectivity (JDBC) and currently supports MySQL, SQLServer, Oracle, DB2, DB2-AS400 and Derby. Applications find and specify access to Databases using the Java Naming and Directory Interface (JNDI).

Applications running in container contexts such as WebSphere or Tomcat require configuration of the database in the container’s JNDI Repository. These matters are discussed in Enactor ToolSet: Distributed Applications which describes designing and building Enactor Applications for these environments. The examples discussed here have been implemented in a Microsoft Windows environment using MySQL V5.5.36, which is currently the highest version supported by Enactor and is available for download at <http://dev.mysql.com/downloads/mysql/>. The JDBC Driver for MySQL is available for download at <http://www.java2s.com/Code/Jar/c/Downloadcommysqljdbc515jar.htm> and must be made available in the application classpath at runtime. This is achieved in Eclipse using the Run Configuration. Save a copy of the downloaded JDBC Driver jarfile in a folder under EnactorHome (typically named either *jdbcLibs* or *externalLibs*). In the Classpath Tab of the Eclipse Run Configuration select the ***User Entries*** folder and the ***Add External Jars…*** Option then browse to select the JDBC Driver jarfile.

Applications running in a standalone environment, such as the Enactor Wizard-generated Swing Application used in the present examples, configure the JNDI Repository using the **enactor.xml** configuration file as described in the following sections.
### **Database Configuration Example**
The installation of MySQL provides for creation of a root password, which is required for access to the MySQL Command Line. At the MySQL Command Line create a Database, User and Password and grant access to the User as follows:

mysql> create database enactorentities; [Conversely: drop database enactorentities;]

mysql> CREATE USER Enactor; [Conversely: drop user ‘Enactor’ ;]

mysql> GRANT ALL ON \*.\* TO Enactor@'localhost' IDENTIFIED BY 'Entities';

[Conversely: revoke all privileges, grant option from Enactor;]

![](./Images/Aspose.Words.f00c6ffc-c45d-4c85-9f79-918d0ae816da.001.png)

The Enactor Runtime can now access the **enactorentities** database specifying the username **Enactor** and password ‘**Entities**’.


### **Enactor JNDI Configuration Example**

Configuration for the JNDI Repository will be added to the **enactor.xml** configuration file by the Swing Application Wizard if requested to ***Add database support*** and based on information supplied to the wizard. The **enactor.xml** configuration file is generated by the wizard in the Project’s **Config** folder. The complete file is shown below with the additional JNDI Data Source configuration elements shown bold and within them the information supplied to the wizard is shown in bold italic:

``` xml title "enactor.xml"

<?xml version="1.0" encoding="UTF-8"?>

<coreProperties xmlns="http://www.enactor.com/core" 

xmlns:mjstring="com.enactor.tools.core.util.JavaCodeGenUtils" xmlns:xalan="http://xml.apache.org/xalan" xmlns:model="http://www.enactor.com/tools">

`   `<coreProperty name="Common.ApplicationHome" 

`	`value="${user.home}/Enactor"/>

`   `<coreProperty value="temp" name="Common.TemporaryFolder"/>

`   `<coreProperty name="Container.useConnectionPool" value="false"/>

`   `<coreProperty name="Common.DatasourceName" value="***MYSQL***"/>

`   `<coreProperty name="Container.DeviceId" value=" EnactorEntitiesDevice"/>

`   `<datasource>

`      `<name>***MYSQL***</name>

`      `<driverName>com.mysql.jdbc.Driver</driverName>

`      `<serverName>jdbc:mysql://localhost:3306/*enactorentities*</serverName>

`      `<username>*Enactor*</username>

`      `<password>*Entities*</password>

`   `</datasource>

</coreProperties>

```

![](./Images/Aspose.Words.f00c6ffc-c45d-4c85-9f79-918d0ae816da.002.png)

Details associated with Addition of Database support in the Swing Application Wizard will be discussed in the sections describing the creation of entity definitions (See Creating a Database Enabled Swing Application***). 



